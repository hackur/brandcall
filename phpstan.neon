includes:
    - vendor/larastan/larastan/extension.neon

parameters:
    paths:
        - app/
    excludePaths:
        - app/Services/StripeService.php
    level: 5
    ignoreErrors:
        # Laravel relationship return type variance - standard pattern
        - '#should return .+Relations\\(BelongsTo|HasMany|HasOne).+ but returns .+\$this#'
        # Generic type template parameters in relationships
        - '#Generic type .+Relations\\(HasMany|BelongsTo|HasOne).+ does not specify all template types#'
        # Fillable/hidden property covariance - standard Laravel pattern
        - '#PHPDoc type array<int, string> of property .+::\$(fillable|hidden) is not covariant#'
        # Spatie Media Library - nonQueued() is valid but PHPStan doesn't see it
        - '#Call to an undefined method Spatie\\Image\\Drivers\\ImageDriver::nonQueued#'
        # Filament record property access - getRecord() is the correct method
        - '#Access to an undefined property Illuminate\\Database\\Eloquent\\Model::\$slug#'
        # Offset access on typed arrays - false positive with nullable returns
        - '#Offset .+ on left side of \?\? does not exist#'
        # Nullsafe on nullable Media - false positive
        - '#Using nullsafe property access .+ on left side of \?\? is unnecessary#'
        # Comparison operations - intentional defensive coding
        - '#Comparison operation .+ is always (true|false)#'
        - '#Strict comparison .+ will always evaluate to (true|false)#'
        # NumHubDriver - uses dynamic Brand properties not in PHPDoc
        - '#Access to an undefined property Illuminate\\Database\\Eloquent\\Model::\$(numhub_enterprise_id|display_name)#'
